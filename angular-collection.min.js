/**
 * Angular Collection - The Collection module for AngularJS
 * @version v0.1.0 - 2013-03-17
 * @author Tomasz Kuklis
 * @license MIT License, http://www.opensource.org/licenses/MIT
 */
"use strict";angular.module("ngCollection",[]).factory("$collection",["$filter",function(e){function t(){return Math.floor((1+Math.random())*65536).toString(16).substring(1)}function n(){return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()}function r(e){e||(e={}),e.comparator!==void 0&&(this.comparator=e.comparator),this.idAttribute=e.idAttribute||this.idAttribute,this.current=null,this._reset(),this.initialize.apply(this,arguments)}return r.prototype={idAttribute:"id",initialize:function(){},add:function(e,t){t||(t={});var r,i,s,o,u;return i=this.comparator&&t.sort!=0,s=angular.isString(this.comparator)?this.comparator:null,i&&!o&&(o=!0),e[this.idAttribute]||(e[this.idAttribute]=n()),(u=this.get(e))?angular.extend(u,e):(r=e[this.idAttribute],this.hash[r]=e,this.array.push(e),this.length+=1),o&&this.sort(),this},sort:function(){return angular.isString(this.comparator)&&(this.array=e("orderBy")(this.array,this.comparator)),this},get:function(e){return e==null?void 0:(this._idAttr||(this._idAttr=this.idAttribute),this.hash[e.id||e[this._idAttr]||e])},update:function(e){var t;return t=this.get(e),t&&angular.extend(t,e),t||this.add(e),this},remove:function(e){var t;return delete this.hash[e.id],t=this.array.indexOf(e),this.array.splice(t,1),this.length--,this},last:function(){return this.array[this.length-1]},at:function(e){return this.array[e]},size:function(){return this.array.length},_reset:function(){this.length=0,this.hash={},this.array=[]}},r.extend=function(e){var t=this,n;e&&e.hasOwnProperty("constructor")?n=e.constructor:n=function(){return t.apply(this,arguments)};var r=function(){this.constructor=n};return r.prototype=t.prototype,n.prototype=new r,e&&angular.extend(n.prototype,e),n.extend=t.extend,n.getInstance=function(e){return new n(e)},n._super=t.prototype,n},r.getInstance=function(e){return new r(e)},r}]);